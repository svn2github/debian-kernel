=ST-source-=V (=D) unstable; urgency=low

  * Added support for netwinders
  * Modified modules support to not assume everything in /usr/src/modules
    is a directory. 

 -- Manoj Srivastava <srivasta@debian.org>  Wed, 25 Nov 1998 01:39:43 -0600

kernel-source-0.34 (1.01)  unstable; urgency=low

  * This is a major change in the source/header packages. In architectures
    different from i386, `kernel-headers-*' and `kernel-source-*' are
    incompatible. This also has an effect on libc6-dev, which depends on
    kernel-headers-2.0.3x | kernel-source-2.0.3x, which is only true on
    i386 architectures. One possible solution would be to make libc6-dev
    depend on kernel-headers-2.0.32, but that won't work because
    kernel-source provides kernel-headers. In fact, since kernel-headers
    are arch dependent, but kernel-source is arch: all, kernel-source-*
    should not provide kernel-header* at all. 
    
    Once kernel source stops providing kernel-header*, and libc6-dev
    depends on kernel-headers-2.0.32 and links /usr/include/{linux,asm} to
    /usr/src/kernel-headers-2.0.32 (nor /usr/src/linux-2.0.32) things
    would work again in a Multi arch compatible fashion.
  
    Hence, now kernel-source-* packages compiled with this kernel-package
    shall not provide any sort of kernel-headers. For the sake of
    backwards compatibility, /usr/src/linux-$version symlinks are still
    being provided (as people may upload newer kernels while keeping an
    older libc6-dev around, which depends on /usr/src/linux-2.0.32. 
  
    However, I have been badgered enough about this that I shall remove
    the /usr/src/linux-$version symlinks at some point. This version no
    longer registers stuff in /usr/src/.linux-versions, and is no longer
    as paranoid about /usr/src/linux; but it does not outright remove
    those files either, so as not to cause people with older kernels
    having a problem during removal.As soon as it is deemed permissible,
    we shall get less paranoid about /usr/src/linux-$version as well. 
  * closes: Bug#18277

 -- Manoj Srivastava <srivasta@debian.org>  Wed, 18 Feb 1998 16:44:31 -0600

kernel-source-0.33 (1.01) unstable; urgency=low

  * Added SUBARCH, which is used to distinguish Amiga, Atari, Macintosh,
    etc. kernels for Debian/m68k, and may well be required for the alpha,
    from what I hear. Unlike the FLAVOURS variable, which affects
    everything it can lay its grubby hands on (kernel image, headers,
    source, doc package versions, and where the modules are looked for
    under /lib/modules), this only affects the naming of the kernel-image
    as the source and doc packages are architecture independent and the
    kernel-headers do not vary from one sub-architecture to the
    next. These changes are courtesy of James Troup <J.J.Troup@scm.brad.ac.uk>

 -- Manoj Srivastava <srivasta@debian.org>  Mon, 16 Feb 1998 16:47:08 -0600

kernel-source-0.32 (1.01) unstable; urgency=low

  * Ensure that the /usr/src/linux and /usr/src/linux-<version> links
    always exist, no matter what. Apparently, upgrading from
    kernel-source-2.0.32_2.0.32-1 to kernel-source-2.0.32_2.0.32-3 does
    not create /usr/src/linux-<version>, which breaks libc6-dev.
  * Toned down the language about LILO, so as not to startle new sparc users

 -- Manoj Srivastava <srivasta@debian.org>  Thu, 12 Feb 1998 21:56:50 -0600

kernel-source-0.31 (1.01) unstable; urgency=low

  * Added ARCH to make called, this allows for cross compiling kernels
    (added on a request by  James Troup <J.J.Troup@scm.brad.ac.uk>)
  * Make kernel-headers arch: any, so we can indeed have different headers
    for different architectures.
  * m68k can now handle vmlinuz, so reverse that behaviour in the rules
    file. AFAIK m68k still uses zImage.
  * Improvements to /usr/doc/kernel-patch/MultiArch.gz, based on
    suggestions by James Troup <J.J.Troup@scm.brad.ac.uk>/

 -- Manoj Srivastava <srivasta@debian.org>  Mon,  9 Feb 1998 17:11:05 -0600

kernel-source-0.30 (1.01) unstable; urgency=low

  * Redid the Headers README file
  * Added a rationale to the LinkPolicy document. So far, it detailed
    *what* Debian did. Now, it also says *why* we do it.

 -- Manoj Srivastava <srivasta@debian.org>  Thu, 29 Jan 1998 19:13:58 -0600

kernel-source-0.29 (1.01) unstable; urgency=low

  * Important changes for kernel-source-* and kernel-header-* packages: now
    kernel-source-* packages also provide the exact kernel-header-* (libc6
    need only depend on kernel-header-* now.
  * The kernel-header-* and kernel-source-* packages now also maitain the
    /usr/src/linux-X.YY.ZZ links (in addition to the /usr/src/linux links)
    This is used in the libc6 package.

 -- Manoj Srivastava <srivasta@debian.org>  Sat, 13 Dec 1997 12:46:47 -0600


kernel-source-0.28 (1.01) unstable; urgency=low

  * Fixed a typo where we tried to dd /vmlinuz-2.0.32 rather than the
    correct /boot/vmlinuz-2.0.32 in image.postinst. How come this glaring
    an error has gone unreported until now?

 -- Manoj Srivastava <srivasta@debian.org>  Fri, 23 Jan 1998 14:36:34 -0600

kernel-source-0.27 (1.01) unstable; urgency=low

 * Fixed Typo in kernel rules that put all modules into block (this
    is more of a thinko/cut and paste error. fixes: Bug#16697,Bug#16702
  * No longer a fatal error if there is no /vmlinuz (or
    equivalent). fixes: Bug#16899
  * Added language to the abort on /usr/src/linux not being a
    link. 
  * Documented the fact that if you re-run make-kpkg with a different
    revision number, you have to reconfigure the kernel. 
    fixes: Bug#16968
  * ignore obsolete fdformat in favour of superformat.
  * Changed the kernel rules file not break on the sound modules of
    2.1.70+ kernels (I think it is a bug in the kernel Makefile, but this
    fix make make-kpkg handle the problem and be more robust).
  * Modified image.postinst to also cater to people on whose architecture
    the image is not called vmlinuz but something else (like vmlinux, for
    example). closes:Bug#16258
  * Made the postrm's also know about the kernel versrion, not just the
    postinst. (Sorry). closes:Bug#15920
  * Changed include.postrm to be more careful about removing the symbolic
    link /usr/src/linux-X.Y.Z. Keep track if there is another package
    installed that could provide the link.

 -- Manoj Srivastava <srivasta@debian.org>  Wed, 21 Jan 1998 03:27:35 -0600

kernel-source-0.26 (1.01) unstable; urgency=low

  * Added HAM modules to the module we know about, these were introduced
    in 2.1.70.

 -- Manoj Srivastava <srivasta@debian.org>  Tue,  9 Dec 1997 23:27:04 -0600

kernel-source-0.25 (1.01) unstable; urgency=low

  * Ignore unmounted devices while looking for a root file system. Much
    thanks to Thomas Kocourek <tko@westgac3.dragon.com> for noticing
    this. 
  * Make sure that the copyright file for the kernel-doc package is not
    compressed. closes:Bug#14403,Bug#14405
  * Added internal utility kpkg-vercheck to test the validity of the
    package version.

 -- Manoj Srivastava <srivasta@debian.org>  Mon, 10 Nov 1997 10:37:08 -0600

kernel-source-0.24 (1.01) unstable; urgency=low

  * Install the README.headers in the right place for the source
    package. closes:Bug#14552.
  * Handle the new NLS_MODULES that have appeared in the newest 2.1.6x
    kernels. closes:Bug#14527.

 -- Manoj Srivastava <srivasta@debian.org>  Wed,  5 Nov 1997 23:30:48 -0600

kernel-source-0.23 (1.-0) unstable; urgency=low

  * Added README.headers to the kernel-source package as well, since the
    information _is_ relevant to compiling kernels. Since kernel source
    packages have higher visibility than kernel header packages, this may
    help avoid some FAQs from being asked.
  * Changed image postinst not to use the obsolete -d option to
    superformat. Removed extra spaces from the exec option, so that it is
    more likely to work. Noticed by Joost Kooij <kooij@mpn.cp.philips.com>
  * Note that the proposed two level versioning scheme fails if standard
    kernels use epochs. Further note that one may introduce epochs even in
    custom kernels. 

 -- Manoj Srivastava <srivasta@debian.org>  Thu, 23 Oct 1997 12:19:51 -0500

kernel-source-0.22 (1.01) unstable; urgency=low

  * Handle obsolete /System.map and /System.old links left around by older
    kernel-package packages. All the programs that look at the information
    in the map files (including top, ps, and klogd) also will look at
    /boot/System.map-<version>, we just need to ensure that that file is
    present, and no longer require the symbolic link. 
    Actually, having the symbolic link in / is technically detrimental
    (apart from cluttering up /); many programs, though looking in /boot,
    still allow /System.map to override. If you use LILO to choose between
    multiple kernels, then the /System.map symbolic link only applies to
    one such kernel, for all other choices the symbols loaded will be
    wrong. Not having the symbolic links at all prevents this. 
    Therefore, the new image.postinst file shall offer to remove the
    symbolic links in /. This should fix BUG#13359

 -- Manoj Srivastava <srivasta@debian.org>  Fri, 26 Sep 1997 10:44:39 -0500

kernel-source-0.21 (1.01) unstable; urgency=low

  * Fixed handling of modules.dep in the image.postinst. We do not attempt
    to recreate a modules.dep, since the man page admits the file so
    created may be incorrect. We warn the installer that there maybe
    problems loading modules into the kernel until reboot iff the version
    being installed is the same as the version currently running.

 -- Manoj Srivastava <srivasta@debian.org>  Tue, 16 Sep 1997 15:07:02 -0500

kernel-source-0.20 (1.01) unstable; urgency=low

  * No longer create a System.map symlink in /, since that may confuse
    klogd when choosing kernel images using LILO. Since top, ps, and klogd
    look at /boot/System.map-<version>, we just need to make sure that
    file is present. This makes us friendlier to multiple images of the
    same kernel version.
  * No longer redirect output to a file in /tmp for security reasons (we
    use a log file in /var/log instead). This fixes BUG#11765,
    BUG#11766 and BUG#11847 
  * Added support for different flavours of the same kernel version for
    people who need them. This is based on the ideas and work of Bill
    Mitchell <mitchell@mozcom.com> and Noel Maddy <ncm@biostat.hfh.edu>.
    This should make us fully compliant to having multiple flavours of the
    same kernel version. 
  * Added dependencies to targets in rules. Now things should work as
    expected if one edits a .config file. 
  * Fixed destination for the Buildinfo file. This fixes BUG#11884.

 -- Manoj Srivastava <srivasta@debian.org>  Mon,  4 Aug 1997 13:03:51 -0500

kernel-source-0.19 (1.01) unstable; urgency=low

  * All kernel packages produced now list the version of kernel-package
    used in the file /usr/doc/Buildinfo.
  * The image prerm will allow you to remove an running kernel image and
    hose your system. You will be warned. (under protest).
  * Fixed typo in control file for kernel-doc description. This fixes
    Bug#11568.

 -- Manoj Srivastava <srivasta@debian.org>  Tue, 29 Jul 1997 17:47:41 -0500

kernel-source-0.18 (1.01) unstable; urgency=low

  * No longer carries around an extra uncompressed kernel image, and does
    not anymore create /boot/psdatabase-X.X.XX. The psdatabase file does
    not seem to be required anymore.

 -- Manoj Srivastava <srivasta@debian.org>  Wed, 18 Jun 1997 13:05:33 -0500

kernel-source-0.17 (1.01) unstable; urgency=low

  * Added patches to support m68k from "Frank Neumann"
    <Frank.Neumann@Informatik.Uni-Oldenburg.DE>.
  * Added patched to support sparcs from Eric Delaunay
    <delaunay@lix.polytechnique.fr> 

 -- Manoj Srivastava <srivasta@debian.org>  Mon,  2 Jun 1997 15:17:59 -0500

kernel-source-0.16 (1.01) unstable; urgency=low

  * Moved config to /boot, where it arguably should have gone to in the
    first place. The /boot directory contains other information pertinent 
    to the kernel, such as the System.map file, and the psdatabase.  The 
    information about exactly what was configured into the kernel was 
    missing, and it can get quite critical on some machines.  Also, the 
    config file may serve as a base for compiling the next kernel. This 
    file is not really a configuration file (not when packaged as part of 
    the kernel-image package), hence it does not belong in /etc (no amout 
    of changing this file will have any affet on system behaviour).

 -- Manoj Srivastava <srivasta@debian.org>  Wed, 21 May 1997 01:44:17 -0500

kernel-source-0.15 (1.01) unstable; urgency=low

  * Kernel-image and kernel-doc now suggest each other.
  * Also recognize powerpc as a synonym for ppc in determining whether
    we use zImage or bzImage by default.
  * Fixed up some typos in documentation
  * Added rules target kernel_doc. This fixes BUG#9138
  * Also install .config file under /usr/doc. This fixes BUG#9298

 -- Manoj Srivastava <srivasta@debian.org>  Fri, 2 May 1997 14:34:51 -0500

kernel-source-0.14 (1.01) unstable; urgency=low

  * No longer install text files in the modules directory, since depmod
    in modutils-2.1.34 fails when it finds a non-ELF file in modules
    directory. This fixes Bug#9243.

 -- Manoj Srivastava <srivasta@debian.org>  Wed, 30 Apr 1997 15:24:51 -0500

kernel-source-0.13 (1.01) unstable; urgency=low

  * Really add in all the changes sent in by Herbert Xu. The changes are: 
    * Changed to source package name back to kernel-source-=V again. 
    * Changed the installs to be without -o root -g root since it is no
      longer useful as the chowns are done before the packages are built. It
      also means that if it is used in targets like stamp-configure which may
      be run by anyone it won't not generate an error.
    * Made rules file generate the control file.
    * Fixed some typos in chown commands while generating the header
      packages. 

 -- Manoj Srivastava <srivasta@debian.org>  Mon, 21 Apr 1997 15:12:19 -0500

 kernel-source-0.12 (1.01) unstable; urgency=low

  * Forgot to mention that the source package for the kernel packages 
    (produced by make-kpkg buildpackage, for example) has been changed to 
    not contain the kernel version as part of the name (all the deb files 
    produced have not changed), so we now get kernel-image-xxx_yy_zz.deb, 
    kernel-source-xxx_yy_zz.deb, and kernel-headers-xxx_yy_zz.deb, along
    with kernel-source.tar.gz and kernel-source_yy.diff.gz
  * Added changes from the kernel packages maintainer (this is the
    kernel-packages maintainer speaking, Herbert Xu handles the kernel
    image, headers, and source packages at the moment).

 -- Manoj Srivastava <srivasta@debian.org>  Sun, 13 Apr 1997 00:03:36 -0500

 kernel-source-0.11 (1.01) unstable; urgency=low

  * set umask to copy the kernel source files untainted by package creators
    umask. 
  * set umask to copy the kernel header files untainted by package creators
    umask.

 -- Manoj Srivastava <srivasta@debian.org>  Tuesday, 1 Apr 1997 11:04:42 -0600

 kernel-source-0.10 (1.01) unstable; urgency=low

  * image postinst no longer aborts when the user gives up on formatting a
    floppy, but is offered a choice to proceed with a preformatted floppy. 
  * Fixed spelling errors in kernel image postinst
  * Offer to user superformat if it exists.
  * Tested boot floppy creation.
  * Tested on 2.0.29, 2.1.29, and 2.1.30
  * Mention setfdprm in postinst if fail to format floppy.
  * Fix a typo in code determining which floppy drive to use
  * Allow leading whitespace in responses

 -- Manoj Srivastava <srivasta@debian.org>  Sun, 23 Mar 1997 22:53:13 -0600

kernel-source-0.9 (1.01) unstable; urgency=low

  n Stupid @#$%$%@! vi changed Feb to February in the changelog messing up
    gencontrol. 

 -- Manoj Srivastava <srivasta@debian.org>  Mon, 17 Feb 1997 19:29:02 -0600

kernel-source-0.8 (1.01) unstable; urgency=low

  * Removed extra root checks
  * Added error messages to failed root check
 
 -- Manoj Srivastava <srivasta@debian.org> Thursday, 13 February 1997 14:47:06 -0600

kernel-source-0.7 (1.01) unstable; urgency=low

  * Fixed kernel rules file so that one does not depend on the existence of modules

 -- Manoj Srivastava <srivasta@debian.org>  Tuesday, 28 January 1997 22:15:27 -0600

kernel-source-0.6 (1.01) unstable; urgency=low

  * changed priority of kernel-source package to optional
  * changed priority of kernel-image package to optional

 -- Manoj Srivastava <srivasta@debian.org>  Fri, 22 Nov 1996 11:02:31 -0600


kernel-source-0.5 (1.01) unstable; urgency=low

  * kernel-source-X.XX now no longer recommends bin86, since bin86 is only
    available intel platforms.  It now merely mentions it in the
    description.

 -- Manoj Srivastava <srivasta@debian.org>  Thu, 7 Nov 1996 22:17:47 -0600

kernel-source-0.4 (1.01) unstable; urgency=low

  * kernel-source-X.XX now recommends bin86, which fixes Bug#4443
  * Added short, succinct (and potentially dangerous) instructions on
    compiling kernels at the top of the README file.  This fixes Bug#4445.

 -- Manoj Srivastava <srivasta@debian.org>  Wed, 6 Nov 1996 23:59:47 -0600

kernel-source-0.3 (1.01) unstable; urgency=low

  * Changed everything to new packaging standards.
  * Major re-organization.
  * Added explanation for kernel-headers-X.XX (and why we need this
    package inspite of having headers in libc5-dev)
  * Added README files for all packages (the old README files became
    copyright files).
  * Added target for buildpackage (wich needed a hack in the target clean
    so as not to remove the ./debian directory prematurely)

 -- Manoj Srivastava <srivasta@debian.org>  Tue, 5 Nov 1996 22:42:12 -0600

kernel-source-0.2 (1.01) unstable; urgency=low

  * Made image.postinst more polite.
  * Also enabled kernel-{source,image,headers} targets in kernel.rules 
  * Changed make-kpkg to also accept the new targets.
  * Fixed typo in man page.
  * The man page says it is an administrators man page rather than a 
    programmers man page.
  * Recommended libc-dev for kernel-source and kernel-package
  * source suggests ncurses3.0-dev, tk40-dev and the description explains 
    you could use make menuconfig rather than plain old make config if you
    had these packages.
  * Fixed typo in the rules for modules in /usr/src/modules/ directory
  * Made the rules for such modules ignore errors (since they are not
    really a part of this package, error there should not halt this build
    (or so people seem to want it)
  * Look for modules in the kernel config file (or the default config file
    if the user has not supplied a config file), and only make modules and
    install them if modules have been configured in the config file. This 
    could be tested better.
  * Fixed the make-kpkg.8 man page so that it now does not seem to mandate
    a source and diff file for additional modules installed under the 
    directory /usr/src/modules/ (whether these files are produced is at
    the discretion of the maintainer of that modules package.
  * Make configure depend on stamp-configure which in turn depends on
    .config Hopefully, this will remake the image target if one changes
    the config file Hopefully, this will not cause the image target to
    build needlessly. 

 -- Manoj Srivastava <srivasta@debian.org>  

kernel-source-0.1 (1.01) unstable; urgency=low

  * Changed the scripts to refer to /usr/bin/perl rather than /bin/perl.
  * Added an extended description to the image control file.
  * Added a note that the dist target requires a PGP key.
  * Fixed a typo (missing DEBDIR) in debian.rules.
  * Fixed the targets expected by make-kpkg (kernel_image rather than 
    kernel-image, etc).
  * In image.postinst, made arguments to system be a single argument if  
    the arguments contain shell meta-characters, (this way perl passes
    them to sh -c).
  * Made make-kpkg accept non floats as revision numbers, to facilitate  
    local names.
  * Fixed silly bug in makefloppy in image.postinst.
  * Fixed the extended description of the kernel-package package.
  * Updated the image postinst to install the mbr, if it exists, and to
    activate the root partition, and to not overwrite the mbr (oops).
  * Changed maintainer email address to debian.org (I'll be in a state of  
    flux soon)


 -- Manoj Srivastava <srivasta@pilgrim.umass.edu>  

Local variables:
mode: debian-changelog
End:
