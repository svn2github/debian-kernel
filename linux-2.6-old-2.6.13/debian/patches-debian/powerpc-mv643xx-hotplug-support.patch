# 
# Hotplug support patch for mv643xx_eth driver used on pegasos machines.
# Author: Nicolas Det <nicolas.det@bplan-gmbh.de>
# Upstream status: In the process of being submitted, may need a bit of
# cleanup in order to not break embedded arches using this controller, but
# should not be a worry for debian.
#
--- linux-2.6.14-rc1/drivers/net/mv643xx_eth.c	2005-09-14 08:15:11.000065096 +0200
+++ linux-2.6.14-rc1_nico/drivers/net/mv643xx_eth.c	2005-09-15 12:57:50.646269250 +0200
@@ -1533,6 +1533,9 @@
 	printk(KERN_NOTICE "%s: RX NAPI Enabled \n", dev->name);
 #endif
 
+	if (mp->tx_sram_size > 0)
+		printk(KERN_NOTICE "%s: Using SRAM\n", dev->name);
+
 	return 0;
 
 out:
@@ -1640,6 +1643,15 @@
 		" and Dale Farnsworth");
 MODULE_DESCRIPTION("Ethernet driver for Marvell MV643XX");
 
+#include <linux/pci.h>
+
+static struct pci_device_id pci_marvell_mv64360[] = {
+		{ PCI_DEVICE(PCI_VENDOR_ID_MARVELL, PCI_DEVICE_ID_MARVELL_MV64360) },
+		{ }
+	};
+
+MODULE_DEVICE_TABLE(pci, pci_marvell_mv64360);
+
 /*
  * The second part is the low level driver of the gigE ethernet ports.
  */
