kernel-patch-powerpc-2.6.11 (2.6.11-2) unstable; urgency=low

  * Built wiht kernel-source 2.6.11-4.
  * Fixed kernel-build/kernel-headers so that kernel-build now include the
    symlinks to all kernel-headers stuff. (Sven Luther)
  * Fixed prep Motorola Powerstack II - Utah irq issues. (Sven Luther)
  * Enabled InfiniBand support, thanks to Troy Benjegerdes for testing and
    providing the config options. (Sven Luther)
  * Add Module.symvers to kernel-build/kernel-headers so out of
    tree modules can detect abi changes, (Simon Horman)
  * Fixed /lib/modules/<version>/source to point to kernel-build stuff if
    installed. (Sven Luther)
  * Disabled the follwoing drivers as they depend on various
    isa_() functions which are not avaibale for powerpc (Simon Horman) :
    - VGA16 Frame Buffer
    - Future Domain PCMCIA SCSI
    - Future Domain SCSI
    - HP 10/100VA PCLAN
    - ARCnet COM90xx (normal)
    - ARCnet COM90xx (RIM-I)

 -- Sven Luther <luther@debian.org>  Fri, 13 May 2005 09:33:54 +0200

kernel-patch-powerpc-2.6.11 (2.6.11-1) unstable; urgency=high

  * New Upstream release.

 -- Sven Luther <luther@debian.org>  Sun,  3 Apr 2005 23:57:42 +0200

kernel-patch-powerpc-2.6.10 (2.6.10-3) unstable; urgency=high

  * Removed again the bootloader postinst boot magic, as it caused bad
    interaction between make-kpkg and debconf. (Sven Luther)
  * Now copy kernel-source's changelog fil in the kernel-image.
  * Rebuilt against kernel-source 2.6.10-5.

 -- Sven Luther <luther@debian.org>  Wed, 23 Feb 2005 14:30:04 +0100

kernel-patch-powerpc-2.6.10 (2.6.10-2) unstable; urgency=high

  * Added kernel postinst magic to be sure we do the right thing in the
    mkvmlinuz case. (Sven Luther)

 -- Sven Luther <luther@debian.org>  Tue,  8 Feb 2005 21:05:01 +0100

kernel-patch-powerpc-2.6.10 (2.6.10-1) unstable; urgency=high

  * New upstream release. (Sven Luther)
  * Disable CONFIG_BLK_DEV_UB. (See: #284952, #283852) (Simon Horman)

 -- Sven Luther <luther@debian.org>  Sun,  6 Feb 2005 18:47:28 +0100

kernel-patch-powerpc-2.6.9 (2.6.9-4) unstable; urgency=high

  * Rebuilt against kernel-source-2.6.9-5 (Sven Luther) :
    - [powerpc] Added a couple of powermac patches from Benjamin Herrenschmidt :
      - 970FX cpu support
      - G5 thermal management update
      - Misc powermac fixes backports
      (Bug #287030) (Sven Luther)
    - [powerpc] Moved from powerpc kernel-patch package :
      - powermac legacy serial fix.
      - pegasos via-ide dual interrupt fix.
      (Sven Luther)
    - [powerpc] Added _chrp_type support though pegasos patch (Sven Luther)
    - [powerpc - prep] Fix bad irq assignement for pci devices on motorola
      powerstack boxes. (Sven Luther)
    - add dh_fixperms to the build targets to kernel-patch-debian-2.6.9
      to ensure that the permissions of the files in this package are
      sensible. (See: Bug#288279) (Simon Horman)
    - [SECURITY] Fix vulnerability in the ELF loader code allowing
      local attacker to execute code as root; CAN-2004-1235. 
      (Maximilian Attems)
    - [SECURITY] 028-do_brk_security_fixes.dpatch
      Drop Marcelo's fix, use Linus' instead.
      Fix local root vulnerability for various do_brk() calls;
      ensure an exclusive lock on memory while modifying it; CAN-2004-1235
      (Andres Salomon) (closes: #289155).
    - [SECURITY] 029-random_poolsize_overflow.dpatch
      drivers/char/random allows you to set the poolsize; its sanity checking
      on that input isn's very good.  We fix that here.
      See http://seclists.org/lists/fulldisclosure/2005/Jan/0270.html for
      more details.  This fixes #3 on that list (Andres Salomon).
    - [SECURITY] 030-moxa_user_copy_checking.dpatch
      The moxa driver does some ugly things w/ signed integers.  This fixes
      #4 on Brad Spengler's advisory (Andres Salomon).
    - [SECURITY] 031-sg_scsi_ioctl_int_overflows.dpatch
      SG ioctl stuff doesn't actually check whether the scsi command length
      is positive.  #5 on the above advisory (Andres Salomon).

  * Removed kernel-patch-powerpc package, since all the powerpc patches are
    now part of kernel-source. Next version of kernel-source-2.6.9 should
    have a conflict/replace/provides, but for now please remove it by hand.
    (Sven Luther)

 -- Sven Luther <luther@debian.org>  Sun,  9 Jan 2005 15:31:57 +0100

kernel-patch-powerpc-2.6.9 (2.6.9-3) unstable; urgency=low

  * Sven Luther :
    Rebuilt since i forgot to remove completely the metapackages from the
    changes file, and as a result -2 is in some kind of incoming/UNACCEPT
    no-man's land. Since built time is >9 hours, let's not take chance and
    upload -3 :/

 -- Sven Luther <luther@debian.org>  Fri, 10 Dec 2004 18:44:34 +0100

kernel-patch-powerpc-2.6.9 (2.6.9-2) unstable; urgency=low

  * Compiled SELinux support into the kernel, but left it disabled by
    default at boot time.  Thanks to Manoj Srivastava for investigating
    the issue and suggesting the necessary .config changes.

  * Rebuilt against kernel-source 2.6.9-3 (Sven Luther) :
    - Include dm_io-ENOMEM-goof patch that was included in final 2.6.8-8
      (Andres Salomon).
    - [SECURITY] Further binfmt_elf fixes, and binfmt_aout fixes as well
      (Andres Salomon).
    - [SECURITY] Further smbfs overflow fixes, stolen from -ac tree
      (Andres Salomon).
    - Add missing check for tty == NULL in uart_tasklet_action to fix an init
      oops on serial console. (Joshua Kwan)
    - Adding drivers-serial-8250-ioremap-fix.dpatch: a patch from Alex
      Williamson that prevents setserial from crashing the kernel. See:
      http://marc.theaimsgroup.com/?l=linux-kernel&m=109913237604338&w=2
      (Dann Frazier)
    - VLAN updates (Potential fix for: Bug#280743) (Simon Horman)
    - Remove bogus DMA blacklist for RICOH CD-R/RW MP7083A (Maximilian Attems)
    - tmpfs inode accounting leak fix (Maximilian Attems)
    - [SECURITY] Fix problems in binfmt_elf loader; see
      http://isec.pl/vulnerabilities/isec-0017-binfmt_elf.txt for more
      details (Andres Salomon).
    - Correctly detect VIA 8233A sound card (Simon Horman)
    - VIA8231 support for parallel port driver (Simon Horman)
    - Changed recomends libqt3-dev to libqt3-mt-dev as the former is debricated.
      (Bug#279605) (Simon Horman)
    - Allow READ_BUFFER_CAPACITY scsi ioctl. (Simon Horman)
    - Include a UP build fix for the sn_console driver (dann frazier)
    - pages_scanned fix to stop kswapd going into loops (Simon Horman).
    - Fixes to cope with hadrware with broken GetMaxLUN responses (Simon Horman).
      (Bug#279889)
    - Don't allow tmpfs to be mounted if the driver is not present
      (Bug#275874) (Simon Horman)

  * Modified debian/rules to easily create or not the kernel-image packages.
    dropped kernel-image metapackages since we officially stay with 2.6.8 for
    now. (Sven Luther)

 -- Sven Luther <luther@debian.org>  Mon,  6 Dec 2004 02:08:10 +0100

kernel-patch-powerpc-2.6.9 (2.6.9-1) unstable; urgency=low

  * New upstream release.
  
  * Updated .config files from 2.6.8 to 2.6.9 (Sven Luther).

  * Enabled the USB IrDA FIR Dongle device driver (CONFIG_USB_IRDA), which
    was apparently forgotten in the transition from 2.4 (Jens Schmalzing).

  * Enabled a couple more drivers, namely the iptables userspace logging
    target (CONFIG_IP_NF_TARGET_ULOG) and the new LSI Logic RAID Device
    drivers (CONFIG_MEGARAID_NEWGEN and friends) (Jens Schmalzing).

  * Updated patches to apply cleanly to the latest revision 2.6.9-1 of
    kernel-source-2.6.9 (Jens Schmalzing).

 -- Jens Schmalzing <jensen@debian.org>  Thu, 28 Oct 2004 10:06:10 +0200

kernel-patch-powerpc-2.6.8 (2.6.8-6) unstable; urgency=medium

  * Built support for the - now fixed - VGA console into the kernel, and
    added the VGA16 framebuffer as a module (closes: Bug#271852).

  * Removed the root filesystem option from the built-in command line
    (closes: Bug#270321, Bug#270326).  On PReP, the kernel will find the
    root filesystem anyway if it is located on the third partition of the
    first hard disk.  If you keep your root filesystem elsewhere, you will
    find a detailed explanation on changing the built-in command line in
    the NEWS.Debian file.

  * Enabled the CONFIG_SCSI_MULTI_LUN option (closes: Bug#273673).

  * Rebuilt against the latest revision 2.6.8-7 of kernel-source-2.6.8.

 -- Jens Schmalzing <jensen@debian.org>  Sun,  3 Oct 2004 11:40:28 +0200

kernel-patch-powerpc-2.6.8 (2.6.8-5) unstable; urgency=low

  * Rebuilt against the latest revision 2.6.8-6 of kernel-source-2.6.8
    (Jens Schmalzing).

 -- Jens Schmalzing <jensen@debian.org>  Mon, 13 Sep 2004 22:27:32 +0200

kernel-patch-powerpc-2.6.8 (2.6.8-4) unstable; urgency=low

  * Rebuilt against the latest revision 2.6.8-5 of kernel-source-2.6.8
    (Jens Schmalzing).

 -- Jens Schmalzing <jensen@debian.org>  Mon, 30 Aug 2004 15:33:27 +0200

kernel-patch-powerpc-2.6.8 (2.6.8-3) unstable; urgency=high

  * Disabled the LED blinking on hard drive activity again, since it looks
    ugly on some machines and gets on people's nerves (closes: #268359)
    (Jens Schmalzing).

  * Enabled default command-line options, which allows the majority of
    PReP machines to boot unattended (Jens Schmalzing).

  * Included an example script for debian/post-install in the kernel-patch
    package.  The script adds the glue that mkvmlinuz needs in order to
    build a compressed bootable kernel from an uncompressed kernel and
    optionally a ramdisk.  This is mainly intended for users who want to
    build their own initrd kernel-image packages on subarchs that don't
    have a bootloader, but is also useful for creating rescue systems
    capable of working around a broken bootloader installation
    (Jens Schmalzing).

 -- Jens Schmalzing <jensen@debian.org>  Fri, 27 Aug 2004 14:28:58 +0200

kernel-patch-powerpc-2.6.8 (2.6.8-2) unstable; urgency=high

  * Enabled the PPC 601 Fix config option (Sven Luther).

  * Built the PowerMac floppy driver into the kernel, making it possible
    to boot OldWorld PowerMacs using a miBoot floopy (Sven Luther).

  * Rebuilt against the latest revision 2.6.8-4 of kernel-source-2.6.8,
    pulling in a plethora of bug fixes (Jens Schmalzing).

 -- Jens Schmalzing <jensen@debian.org>  Thu, 26 Aug 2004 14:59:16 +0200

kernel-patch-powerpc-2.6.8 (2.6.8-1) unstable; urgency=high

  * Removed binutils and oprofile patches as they are now upstream
    (Sven Luther).
  * Removed uhci.diff, which is not needed anymore since the g4-errata patch
    fixes those issues in a better way (Sven Luther).
  * Modified config files so CPU_FREQ is built only on powerpc (Sven Luther).

 -- Sven Luther <luther@debian.org>  Tue, 17 Aug 2004 19:46:36 +0200

kernel-patch-powerpc-2.6.7 (2.6.7-5) unstable; urgency=high

  * Enabled psaux compatiblity driver, since not having it will break
    2.4/2.6 dual kernel installs, as well as current X configuration
    defaults (Sven Luther).

  * Enabled forced IDE detection on early Xserve G4 (closes: Bug#263058)
    (Jens Schmalzing).

  * Added a binutils patch based on a mailing list post by Tom Rini, in
    order to take care of the stricter opcode checking introduced by the
    new GNU assembler 2.15 (closes: Bug#263057) (Jens Schmalzing).

  * Rebuilt against the latest revision of kernel-source-2.6.7.  Removed
    the pegasos and g4-errata patches that have migrated there, matched
    urgencies to synchronize entry into sarge (Jens Schmalzing).

  * Suggest kernel-tree instead of kernel-source (Jens Schmalzing).
  
 -- Jens Schmalzing <jensen@debian.org>  Thu,  5 Aug 2004 19:22:22 +0200

kernel-patch-powerpc-2.6.7 (2.6.7-4) unstable; urgency=low

  * Built the Matrox framebuffer driver into the kernel again (closes:
    Bug#259250) (Jens Schmalzing).

  * Removed a number of useless .config options to get the kernel size
    down (Christoph Hellwig).

  * Built the voodoo framebuffer driver into the kernel again (Sven Luther).

  * Added G4 errata patch to fix stability problem with some G4 processors
    (Sven Luther).

 -- Jens Schmalzing <jensen@debian.org>  Tue, 27 Jul 2004 17:10:28 +0200

kernel-patch-powerpc-2.6.7 (2.6.7-3) unstable; urgency=high

  * Upgraded the pegasos.diff patch to the one submitted upstream (Sven
    Luther).

  * Built the console drivers for 8250/16550 and PowerMac Zilog serial
    ports into the kernel (closes: Bug#256798).  In order to keep the
    overall size constant, framebuffer drivers for Matrox and Voodoo cards
    are now built as modules (Jens Schmalzing).

  * Modified the autobuilder hack in debian/rules to actually build the
    architecture-independent package kernel-patch-powerpc on other archs
    (closes: Bug#257752) (Jens Schmalzing).

  * Added necessary files for mkvmlinuz PReP support, needs mkvmlinuz >= 7
    (Sven Luther).

 -- Jens Schmalzing <jensen@debian.org>  Fri,  9 Jul 2004 17:00:11 +0200

kernel-patch-powerpc-2.6.7 (2.6.7-2) unstable; urgency=low

  * Removed the Amiga SmartFilesystem (asfs) patch that has now been
    integrated into kernel-source.

  * Added a new and improved version of the UHCI host controller patch.
  
  * Split a small VIA IDE driver hack from the rest of the Pegasos patch.

  * Really enabled the OProfile profiling driver.
  
  * Converted from kernel-source to kernel-tree.

 -- Jens Schmalzing <jensen@debian.org>  Thu, 24 Jun 2004 12:42:38 +0200

kernel-patch-powerpc-2.6.7 (2.6.7-1) unstable; urgency=low

  * New upstream release (closes: Bug#252230).

  * Added a patch to stop the UHCI host controller driver from freezing G4
    systems (closes: Bug#255086).

  * Removed two patches that are now included upstream.

  * Added a recommendation of hotplug to the kernel-image packages, to
    ease the transition for people upgrading from the old monolithic
    kernels.
  
  * Removed the recommendation of mkvmlinuz, since it is perfectly
    reasonable to go without this helper on most systems.

 -- Jens Schmalzing <jensen@debian.org>  Sat, 19 Jun 2004 22:16:13 +0200

kernel-patch-powerpc-2.6.6 (2.6.6-6) unstable; urgency=low

  * Upgraded the Amiga SmartFilesystem (asfs) patch to 1.0beta6 (closes:
    Bug#252628).

  * Added a patch from the 2.5 BenH tree to enable the OProfile profiling
    system (closes: Bug#251708).

 -- Jens Schmalzing <jensen@debian.org>  Sun,  6 Jun 2004 16:15:18 +0200

kernel-patch-powerpc-2.6.6 (2.6.6-5) unstable; urgency=low

  * Worked around an annoying bug in the autobuilders, who are stupid
    enough to try to build this package on non-powerpc archs and choke in
    the attempt.

  * Removed the patch adding monitor mode to the Airport card driver.  It
    is outdated, unstable, and was only intended as a placeholder from the
    very beginning.

  * Added a patch to improve support for the Radeon Mobility 9200 graphics
    card built into some G4 iBooks (closes: Bug#251163).

  * Added remarks about the machines supported by each kernel-image
    package to the descriptions in debian/control (closes: Bug#251062).

 -- Jens Schmalzing <jensen@debian.org>  Fri, 28 May 2004 18:20:48 +0200

kernel-patch-powerpc-2.6.6 (2.6.6-4) unstable; urgency=low

  * Added a patch to fix the 8250 serial driver so it doesn't hang the
    PowerMac G5 any more.  This makes the g5 flavours obsolete, power4
    should be used instead.

 -- Jens Schmalzing <jensen@debian.org>  Sun, 23 May 2004 19:47:29 +0200

kernel-patch-powerpc-2.6.6 (2.6.6-3) unstable; urgency=low

  * Made the kernel-build packages dependent on the kernel-headers
    package, since they are completely useless without it.

  * Built rivafb as a module (closes: Bug#248134).  Apparently, the nv
    driver from XFree86 works just as well on offb.

  * Added dummy packages for keeping track of one flavour of the
    kernel-image packages across releases.

 -- Jens Schmalzing <jensen@debian.org>  Sat, 22 May 2004 14:05:26 +0200

kernel-patch-powerpc-2.6.6 (2.6.6-2) unstable; urgency=high

  * Added a missing symbol export to arch/ppc/kernel/ppc_ksyms.c, which
    broke a couple of filesystem drivers, including ext3.  Hence the
    urgency.

 -- Jens Schmalzing <jensen@debian.org>  Thu, 13 May 2004 15:57:31 +0200

kernel-patch-powerpc-2.6.6 (2.6.6-1) unstable; urgency=low

  * New upstream release.

 -- Jens Schmalzing <jensen@debian.org>  Wed, 12 May 2004 16:44:57 +0200

kernel-patch-powerpc-2.6.5 (2.6.5-2) unstable; urgency=low

  * Added missing build-time dependencies (closes: Bug#247288).

 -- Jens Schmalzing <jensen@debian.org>  Thu,  6 May 2004 07:56:13 +0200

kernel-patch-powerpc-2.6.5 (2.6.5-1) unstable; urgency=low

  * Nothing like a fresh start from scratch.

 -- Jens Schmalzing <jensen@debian.org>  Thu,  8 Apr 2004 19:36:20 +0200

