# origin: Debian (jurij)
# cset: n/a
# inclusion: approved by davem (projected: 2.4.28)
# revision date: 2004-11-15

--- build-sparc32.orig/include/asm-sparc/string.h	2002-02-25 14:38:13.000000000 -0500
+++ build-sparc32/include/asm-sparc/string.h	2004-11-16 23:41:47.000000000 -0500
@@ -40,6 +40,9 @@
 
 	if(n <= 32) {
 		__builtin_memcpy(to, from, n);
+	} else if (((unsigned int) to & 7) != 0) {
+		/* Destination is not aligned on the double-word boundary */
+		__memcpy(to, from, n);
 	} else {
 		switch(n) {
 		case PAGE_SIZE:
