kernel-image-2.4.27-sparc (2.4.27-11) UNRELEASED; urgency=low

  * Added build debpends on gcc-3.3 as the default gcc
    is being changed from 3.3 to 4.0.

 -- Simon Horman <horms@debian.org>  Mon,  4 Jul 2005 12:16:52 +0900

kernel-image-2.4.27-sparc (2.4.27-9) unstable; urgency=high

  * Build against 2.4.27-9.

 -- Andres Salomon <dilinger@debian.org>  Sat, 02 Apr 2005 23:25:01 -0500

kernel-image-2.4.27-sparc (2.4.27-2) unstable; urgency=medium

  * Add missing build-depends on modutils (minor, this package is
    never built from source)
  * Add missing Depends on modutils for kernel-image-*. (pretty major..!)
  * Set CONFIG_DM9102=m, thanks Thomas Michlmayr.
  * Bump soname to 2 because of security fixes from kernel-tree-2.4.27-8.
  * Disable CONFIG_PCI, closes: #288140

 -- Joshua Kwan <joshk@triplehelix.org>  Mon, 14 Feb 2005 12:27:06 -0800

kernel-image-2.4.27-sparc (2.4.27-1) unstable; urgency=high

  * Joshua Kwan
    - Switch to an initrd-using scheme, and a better
      versioning scheme.
    - Bump to 2.4.27. This fixes some serious security bugs.
    - Drop patches-obsolete, they're REALLY obsolete now.
    - Patch work:
      + (REMOVED) 01_sparc64_i2c.dpatch: Merged upstream.
      + (REMOVED) 02_sparc64_use_CC.dpatch: Merged upstream.
      + (REMOVED) 03_sparc64_lvalue_casts.dpatch: Merged upstream.
      + (REMOVED) 04_sparc32_use_ld_-V.dpatch: Merged upstream.
        Thanks DaveM!
      + (ADDED) 05_GPL_and_SYMBOLS.dpatch: Some files not marked GPL
        actually are. Mark them. Also remove obsolete EXPORT_NO_SYMBOLS
        stuff. Merged into kernel-source-2.4.27 2.4.27-1.
    - Change Maintainer field to the Debian kernel team.
    - Change package name to kernel-image-2.4.27-sparc. This allows us to
      use 2.4.27-1 without an epoch, and is more standard anyway.
    - Change Build-Depends on gcc 3.3 to gcc (>= 4:3.3).
    - Change to Herbert Xu's kernel build system.
    - Add sym53c8xx and ncr53c8xx as modules.
    - Disable CONFIG_INET_ECN on sparc64, this can be twiddled with a sysctl
      setting.
    - Drop the kernel metapackages as we're about to hustle in a unified
      metapackage source package for all 2.4 kernels in Debian.

 -- Joshua Kwan <joshk@triplehelix.org>  Sat, 21 Aug 2004 19:26:10 -0700

kernel-image-sparc-2.4 (39) unstable; urgency=low

  * Joshua Kwan
    - Back out Ben's SILO-initrd patch. Busted.
    - Build openprom.o into the kernel to allow discover goodness to
      occur. Does not bust the size barrier.

 -- Joshua Kwan <joshk@triplehelix.org>  Sat, 19 Jun 2004 19:52:22 -0700

kernel-image-sparc-2.4 (38) unstable; urgency=medium

  * Joshua Kwan
    - Bump CONFIG_BLK_DEV_RAM_SIZE to 8192 to fix netboots for d-i.
    - Add dummy packages kernel-image-2.4-sparc{32,64}{,-smp} to facilitate
      upgrades.
    - Make the build process smarter so it doesn't need sparc-utils and
      can thus be cross-compiled.
    - Fix short descriptions and remove Emacs settings from changelog.
    - Remove obsolete include.{prerm,postinst} and choose-env that aren't
      used anymore.
    - Patch work
      + 02_sparc64_use_CC: use $(CC) instead of 'gcc' for tests in
        arch/sparc64/Makefile.
      + 03_sparc64_lvalue_casts: fix large amounts of warning output for
        asm-sparc64/pgalloc.h by fixing casts of lvalues.
      + 04_sparc32_use_ld_-V: use $(LD) -V | grep elf64_sparc for the
        $(NEW_GAS) test.
      + 05_silo_initrd_EXP.dpatch (new): Debugging code to figure out the
        whole initrd mess on sparc64.
    - Use tar --bzip2 -xf to make backports frendlier.

 -- Joshua Kwan <joshk@triplehelix.org>  Wed, 26 May 2004 18:30:56 -0700

kernel-image-sparc-2.4 (37) unstable; urgency=medium

  * Joshua Kwan
    - [sparc32] Build isofs.o into the kernel image to remove the need for
      a special isofs module package (!) for the Debian installer.
    - Lose some highly uncommon framebuffer drivers to cut down on kernel
      image size (FB drivers aren't modularized), because the PROM console
      works anyway.

 -- Joshua Kwan <joshk@triplehelix.org>  Fri, 23 Apr 2004 18:23:36 -0700

kernel-image-sparc-2.4 (36) unstable; urgency=medium

  * New maintainers Rob Radez and Joshua Kwan.
  * Bump to 2.4.26
    - mremap vulnerabilities are all addressed.
    - All patches to 2.4.24 sources have been merged; remove all patches
      in patches-obsolete, move patches/* to patches-obsolete
  
  * Enable CONFIG_QUOTA. (Closes: #231246)
  * Enable CONFIG_CRAMFS. (Closes: #236052)
  * Modularize some less oft-used drivers to shrink the kernel
    to a usable size for sparc32 SMP kernels. (Closes: #234404)
  * Disable CONFIG_BT848, it's broken even with the fix in the dpatch
    below.

  * Patch work
    - 01_sparc64_i2c.dpatch: rope in drivers/i2c/Config.in for sparc64,
      build as modules CONFIG_I2C and CONFIG_I2C_ALGOBIT to resolve depmod
      issues (Closes: #234442)
  
  * Trivial fixes
    - Remove kernel-headers stuff - superseded by linux-kernel-headers
      last release, but files were never removed from debian/.
    - Remove unused generate-asm.sh.
    - Fix some extraneous spaces in the control file.
    - Fix build-dependencies for kernel-package and modutils.
    - Fix insidious bug where sparc32/64 wasn't being used all the time.

 -- Joshua Kwan <joshk@triplehelix.org>  Sun,  4 Apr 2004 17:49:16 -0700

kernel-image-sparc-2.4 (35) unstable; urgency=low

  * Bump to 2.4.24. Closes: #162462, #230245, #218195, #225170, #225429
  * Remove udeb's. Closes: #227644, #227622
  * Added debhelper to build depends. Finally Closes: #176192
  * check_asm.c fixed in source tarball. Closes: #227467
  * Added kernel-package to build depends. Closes: #227626
  * Updated default configs. Closes: #227276, #205374
  * Includes patches in #223893. Closes: #223893
  * Added APPEND_TO_VERSION for builds. Closes: #227647, #223571
  * Enabled CONFIG_SUN_BPP=m. Closes: #166253
  * Newer SILO available can boot larger images. Added patch to allow these
    kernels to be loaded into higher memory. Closes: #225848
  * Get rid of kernel-headers package. Glibc is now using some other generic
    package.

 -- Ben Collins <bcollins@debian.org>  Sat, 29 Nov 2003 10:13:34 -0500

kernel-image-sparc-2.4 (34) unstable; urgency=low

  * Added debhelper to build depends. Finally Closes: #176192

 -- Ben Collins <bcollins@debian.org>  Fri,  8 Aug 2003 13:15:45 -0400

kernel-image-sparc-2.4 (33) unstable; urgency=low

  * Add Jalapeno/Tomatillo patches for IIIi systems (Sun Fire v210/v240). The
    tigon3 chips on these system still don't work, but this is a start.
  * Enable NCPfs.
  * Add fixups for tg3 on newer Sun hardware.
  * Build tg3 into the kernel for sparc64.
  * Add patch for sparc32 and gcc-3.3.1.
  * Switch to the tulip built-in for X1's

 -- Ben Collins <bcollins@debian.org>  Sat,  2 Aug 2003 11:55:22 -0400

kernel-image-sparc-2.4 (32) unstable; urgency=low

  * Add patch from DaveM to get gcc-3.3 compiles working on sparc64.
  * Add patch from me to get things booting on newer OBP's.
  * Change de4x5 driver to builtin, instead of module.

 -- Ben Collins <bcollins@debian.org>  Wed, 16 Jul 2003 10:44:28 -0400

kernel-image-sparc-2.4 (31) unstable; urgency=low

  * *sigh* Debian-installer requires tmpfs in addition to ramfs.

 -- Ben Collins <bcollins@debian.org>  Tue, 10 Jun 2003 11:22:31 -0400

kernel-image-sparc-2.4 (30) unstable; urgency=low

  * Add all NLS modules. Enable some advanced router options on sparc64.
    Enable sun12x22 font. Change cdrom/ide-cd/sr_mod to modules in sparc64.
    Closes: #196502
  * Make loopback block device compiled into sparc32.
  * Do not compress the udeb kernels.
  * Add new ide/scsi module udeb's for sparc64.

 -- Ben Collins <bcollins@debian.org>  Sun,  8 Jun 2003 16:36:05 -0400

kernel-image-sparc-2.4 (29) unstable; urgency=low

  * Fix description of IEEE1394 udeb package.
  * Compress udeb kernels.
  * Fix name and location of udeb kernels.
  * Add sun4cdm and sun4dm-smp builds.
  * Convert everything to the sparc32/sparc64 naming scheme.
  * Fixup options to include forgotten initrd in sparc64, and forgotten
    nfsroot support.
  * Update build-deps:
    - bzip2 uneeded, since kernel-source deps on it.
    - gcc >= 4:3.2-6, to get working 64-bit compiler.
    - kernel-source-2.4 -> kernel-source-2.4.20: More strict source dep.
    - egcs64: Removed, obsoleted.
  * Patches from Dave:
    [SPARC64]: RAID_AUTORUN is a compatible ioctl.
    [SPARC64]: Fix sys_shmat handling for 64-bit binaries.

 -- Ben Collins <bcollins@debian.org>  Wed,  4 Jun 2003 19:40:14 -0400

kernel-image-sparc-2.4 (28) unstable; urgency=low

  * 2.4.20 Sources with 2.4.21 patches.
  * Include udeb's for sparc32 and sparc64. Closes: #158741
  * Packet/Filter/Netfilter included in kernel. Closes: #122740, #107596
  * Fix for ALi (Sun Blade 100) DMA corruption.
  * Patch to fix UltraSPARC-1 Happy Meal lockups: Closes: #183044

 -- Ben Collins <bcollins@debian.org>  Thu, 20 Feb 2003 15:49:40 -0500

kernel-image-sparc-2.4 (27) unstable; urgency=low

  * Upload for unstable aswell.

 -- Ben Collins <bcollins@debian.org>  Sat,  5 Oct 2002 14:25:29 -0400

kernel-image-sparc-2.4 (26) stable; urgency=low

  * More patches from davem, to fix serious bugs.
  * Strip kernel image so it fits better (makes SILO and TILO happy)

 -- Ben Collins <bcollins@debian.org>  Fri,  4 Oct 2002 17:25:20 -0400

kernel-image-sparc-2.4 (25) unstable; urgency=low

  * Updated III+ patch from DaveM

 -- Ben Collins <bcollins@debian.org>  Mon, 19 Aug 2002 08:59:27 -0400

kernel-image-sparc-2.4 (24) unstable; urgency=low

  * Added patch from DaveM to support III+

 -- Ben Collins <bcollins@debian.org>  Wed, 14 Aug 2002 14:43:42 -0400

kernel-image-sparc-2.4 (23) unstable; urgency=low

  * New 2.4.19 build.

 -- Ben Collins <bcollins@debian.org>  Sun, 11 Aug 2002 15:40:44 -0400

kernel-image-sparc-2.4 (22) unstable; urgency=low

  * Re-add ALI IDE driver, and Sun GEM driver. Else Blades don't work. We wont
    worry about size now, since I'll use the piggyback driver for tftp images
    now.

 -- Ben Collins <bcollins@debian.org>  Thu, 11 Apr 2002 12:00:43 -0400

kernel-image-sparc-2.4 (21) unstable; urgency=low

  * Add NetFilter modules (IPv4 and IPv6)
  * Trim some things to modules, or disable, in order to get the kernel image
    bootable by tilo.

 -- Ben Collins <bcollins@debian.org>  Sat,  6 Apr 2002 10:26:39 -0500

kernel-image-sparc-2.4 (20) unstable; urgency=low

  * Updates from Vger
  * Enabled nfsroot

 -- Ben Collins <bcollins@debian.org>  Tue, 26 Mar 2002 10:13:16 -0500

kernel-image-sparc-2.4 (19) unstable; urgency=low

  * 2.4.18 kernel source now.

 -- Ben Collins <bcollins@debian.org>  Wed, 13 Mar 2002 06:52:13 +0000

kernel-image-sparc-2.4 (18) unstable; urgency=low

  * Working on 2.4.16 now (with select patches from 2.4.17pre)
  * Added CONFIG_PACKET and CONFIG_SOCKET to sun4u kernels, so now dhcp
    requests should work. Closes: #119310.

 -- Ben Collins <bcollins@debian.org>  Wed, 14 Nov 2001 00:03:31 -0500

kernel-image-sparc-2.4 (17) unstable; urgency=low

  * Sync with VGER CVS.
  * Sync with IEEE1394 CVS.
  * Using 2.4.10 now.

 -- Ben Collins <bcollins@debian.org>  Tue,  2 Oct 2001 13:58:18 -0400

kernel-image-sparc-2.4 (16) unstable; urgency=low

  * Sync with VGER CVS. This includes fixes for jumping to address 0 and
    some other oddities.

 -- Ben Collins <bcollins@debian.org>  Thu, 30 Aug 2001 12:24:05 -0400

kernel-image-sparc-2.4 (15) unstable; urgency=low

  * Sync with VGER CVS. This is now 2.4.9 time

 -- Ben Collins <bcollins@debian.org>  Fri, 24 Aug 2001 14:33:20 -0400

kernel-image-sparc-2.4 (14) unstable; urgency=low

  * Sync with VGER CVS. Includes the ieee1394 patch, also has fix for X1
    network card support.

 -- Ben Collins <bcollins@debian.org>  Thu,  9 Aug 2001 23:48:10 -0400

kernel-image-sparc-2.4 (13) unstable; urgency=low

  * Sync with VGER, using 2.4.7 source now.
  * Also add the 1394 updates I sent to Linus

 -- Ben Collins <bcollins@debian.org>  Mon, 23 Jul 2001 20:04:25 -0400

kernel-image-sparc-2.4 (12) unstable; urgency=high

  * Sync to vger CVS, includes some fixes for sb1000

 -- Ben Collins <bcollins@debian.org>  Thu, 21 Jun 2001 10:09:04 -0400

kernel-image-sparc-2.4 (11) unstable; urgency=low

  * New vger CVS
  * Add ieee1394/ohci1394/sbp2 patches...working sbp2 drive on ultrasparc
    now
  * Use egcs64 now...gcc-3.0-sparc64 seems to have some issues that aren't
    worked out yet.

 -- Ben Collins <bcollins@debian.org>  Tue, 19 Jun 2001 09:47:36 -0400

kernel-image-sparc-2.4 (10) unstable; urgency=low

  * New Vger CVS diff

 -- Ben Collins <bcollins@debian.org>  Tue, 12 Jun 2001 22:33:31 -0400

kernel-image-sparc-2.4 (9) unstable; urgency=low

  * New VGER CVS patch (this is actually 2.4.6pre1)
  * Remove our linux-logo addon, since it now conflicts. Maybe I'll update
    it soon.

 -- Ben Collins <bcollins@debian.org>  Fri,  8 Jun 2001 14:28:10 -0400

kernel-image-sparc-2.4 (8) unstable; urgency=low

  * Use 2.4.5 source now.

 -- Ben Collins <bcollins@debian.org>  Mon, 28 May 2001 23:59:57 -0400

kernel-image-sparc-2.4 (7) unstable; urgency=low

  * Enable CONFIG_FILTER, closes: #98589

 -- Ben Collins <bcollins@debian.org>  Thu, 24 May 2001 11:49:35 -0400

kernel-image-sparc-2.4 (6) unstable; urgency=high

  * Duh, boot-floppies needs loop built-in, not as a module

 -- Ben Collins <bcollins@debian.org>  Thu, 17 May 2001 11:05:43 -0400

kernel-image-sparc-2.4 (5) unstable; urgency=high

  * Resync with vger CVS. This does two things:
    - Pull in the piggyback/tilo fixing patch
    - Pull in the PCI domain patches for XF4

 -- Ben Collins <bcollins@debian.org>  Wed, 16 May 2001 13:10:47 -0400

kernel-image-sparc-2.4 (4) unstable; urgency=high

  * Duh, we need initrd
  * Set urgency high, so this gets into testing quicker

 -- Ben Collins <bcollins@debian.org>  Sun, 13 May 2001 12:55:52 -0400

kernel-image-sparc-2.4 (3) unstable; urgency=low

  * Synced with vger CVS, this includes our needed XFree86 4.0.x changes
    from Dave Miller

 -- Ben Collins <bcollins@debian.org>  Sat, 12 May 2001 10:15:49 -0400

kernel-image-sparc-2.4 (2) unstable; urgency=low

  * Now on to the famous 2.4.4 kernel...we're forcing compilation with
    gcc-3.0 on sun4u now, since it works better

 -- Ben Collins <bcollins@debian.org>  Sun, 29 Apr 2001 19:45:46 -0400

kernel-image-sparc-2.4 (1) unstable; urgency=low

  * Split for 2.4.x kernels, starting off with 2.4.3 (you lucky kernel you)

 -- Ben Collins <bcollins@debian.org>  Sun, 22 Apr 2001 12:22:41 -0400

kernel-image-sparc-2.2 (6) stable unstable; urgency=low

  * Using 2.2.19 final now
  * remove support directories for all by 2.2.19 now

 -- Ben Collins <bcollins@debian.org>  Mon,  2 Apr 2001 11:48:57 -0400

kernel-image-sparc-2.2 (5) stable unstable; urgency=low

  * Using 2.2.19pre17 now

 -- Ben Collins <bcollins@debian.org>  Wed, 14 Mar 2001 20:59:57 -0500

kernel-image-sparc-2.2 (4) stable unstable; urgency=low

  * Using 2.2.19pre11 now
  * Updated config's
  * Changes the way that kernel-headers are generated

 -- Ben Collins <bcollins@debian.org>  Fri, 16 Feb 2001 09:17:28 -0500

kernel-image-sparc-2.2 (3) stable unstable; urgency=low

  * Using 2.2.18pre21
  * Updated config's
    - now includes nfsv3 support
    - sparc64 includes 7-segment display, and Creator DRI

 -- Ben Collins <bcollins@debian.org>  Wed, 22 Nov 2000 11:39:01 -0500

kernel-image-sparc-2.2 (2) frozen unstable; urgency=low

  * Fix soundcard.h for sparc compilation, as per Dave Miller
  * Only include asm-{sparc,sparc64} in kernel-header package

 -- Ben Collins <bcollins@debian.org>  Tue,  4 Jul 2000 10:46:54 -0400

kernel-image-sparc-2.2 (1) frozen unstable; urgency=low

  * New source package format to handle multiple kernel versions

 -- Ben Collins <bcollins@debian.org>  Mon, 19 Jun 2000 15:19:12 -0400

kernel-image-2.2.15-sparc (2.2.15-1) frozen unstable; urgency=low

  * Compile using latest kernel-source-2.2.15
  * Few more fixes for sparc64/sparc

 -- Ben Collins <bcollins@debian.org>  Sat, 27 May 2000 01:37:57 -0400

kernel-image-2.2.15-sparc (2.2.15-0.19.4) frozen unstable; urgency=low

  * New patch from Dave Miller, includes fix for exploitable DoS on
    ultra's

 -- Ben Collins <bcollins@debian.org>  Fri,  5 May 2000 21:13:43 -0400

kernel-image-2.2.15-sparc (2.2.15-0.19.3) frozen unstable; urgency=low

  * New patch from davem, includes the atyfb.c patch, plus some fixes
  * Redid kernel-header package by hand to account for kernel-packages
    inadequacy to handle subarchs for header packages. There is now one
    arch=all kernel-headers-$ver-sparc package, which a generated asm/
    directory (so that sparc and sparc64 can be compiled from the same
    package). The script to generate them in included in the package.

 -- Ben Collins <bcollins@debian.org>  Tue,  2 May 2000 14:59:08 -0400

kernel-image-2.2.15-sparc (2.2.15-0.19.2) frozen unstable; urgency=low

  * Merged patch from vger CVS
  * Added patch to atyfb.c (Thanks Dave)
  * Patch to power.c to correct path to shutdown

 -- Ben Collins <bcollins@debian.org>  Sat, 29 Apr 2000 21:22:05 -0400

kernel-image-2.2.15-sparc (2.2.15-0.19.1) frozen unstable; urgency=low

  * Apply 19to20 pre patch

 -- Ben Collins <bcollins@debian.org>  Mon, 24 Apr 2000 10:06:34 -0400

kernel-image-2.2.15-sparc (2.2.15-0.19) frozen unstable; urgency=low

  * Using 2.2.15-pre19 patch until the source is in the archive
  * CONFIG_AOUT=m on all images so that SunOS emu works, closes: #62376
  * Add sun4dm-pci image so people with ps2 keyboards and mouses can use
    Debian too.

 -- Ben Collins <bcollins@debian.org>  Fri, 21 Apr 2000 09:48:19 -0400

kernel-image-2.2.14-sparc (2.2.14-3) frozen unstable; urgency=low

  * Build with latest kernel-source-2.2.14
  * Build with OPENPROMIO built-in instead of as a module
  * Disable Vortex driver in sun4u images since we no longer have -m64 in
    gcc and egcs64 can't compile it.
  * Added new sun4u kernel headers package (been a long time coming,
    needed for many things). Renamed sparc32 headers to
    kernel-headers-*-sun4cdm fro clarity

 -- Ben Collins <bcollins@debian.org>  Tue, 11 Apr 2000 22:45:42 -0400

kernel-image-2.2.14-sparc (2.2.14-2) frozen unstable; urgency=low

  * Make sure Packet is compiled into the kernel and not as a module (fixes
    dhcp network config on boot-floppies)
  * Get rid of sun4c image (not needed)
  * Add sun4u-smp and sun4dm-smp images

 -- Ben Collins <bcollins@debian.org>  Wed, 22 Mar 2000 12:46:45 -0500

kernel-image-2.2.14-sparc (2.2.14-1) frozen unstable; urgency=low

  * Initial release.

 -- Ben Collins <bcollins@debian.org>  Tue, 29 Feb 2000 16:05:49 -0500
